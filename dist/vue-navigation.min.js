/**
 * vue-navigation v1.0.0
 * https://github.com/zack24q/vue-navigation
 * Released under the MIT License.
 */

!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VueNavigation=t():n.VueNavigation=t()}(this,function(){return function(n){function t(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var o={};return t.m=n,t.c=o,t.i=function(n){return n},t.d=function(n,o,e){t.o(n,o)||Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:e})},t.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(o,"a",o),o},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=0)}([function(n,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={install:function(n,t){if(!t)return void console.error("navigation need options");var o=t.router;if(!o)return void console.error("navigation need options.router");var e=t.store,i=(t||{}).moduleName||"navigation",r=[];window.sessionStorage.VUE_HISTORY&&(r=JSON.parse(window.sessionStorage.VUE_HISTORY)),e&&e.registerModule(i,{state:{history:r},mutations:{"navigation/FORWARD":function(n,t){n.history.push(t)},"navigation/BACK":function(n,t){n.history.splice(n.history.length-t,t)}}});var a=function(n){e?e.commit("navigation/FORWARD",n):r.push(n),window.sessionStorage.VUE_HISTORY=JSON.stringify(r),console.info("navigation: forward")},s=function(n){e?e.commit("navigation/BACK",n):r.splice(r.length-n,n),window.sessionStorage.VUE_HISTORY=JSON.stringify(r),console.info("navigation: back")},u=function(){console.info("navigation: refresh")};o.afterEach(function(n,t){var o=n.matched[0].components.default;o.name=o.name||o.__file;var e=r.lastIndexOf(o.name);e===-1?a(o.name):e!==r.length-1?s(r.length-1-e):u()}),n.component("navigation",{render:function(n){return n("keep-alive",{props:{include:this.historyStr}},this.$slots.default)},data:function(){return{history:r}},computed:{historyStr:function(){return this.history.join(",")}}});var c={getHistory:function(){return r.slice()}};n.navigation=c,n.prototype.$navigation=c}};t.default=e}])});